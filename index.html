<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anywhere - Because "anywhere" isn't a plan</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            letter-spacing: -0.01em;
        }
        
        /* Mobile responsive controls */
        @media (max-width: 768px) {
            .desktop-controls {
                display: none !important;
            }
            .mobile-controls {
                display: flex !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        const FoodFinderApp = () => {
          const [searchQuery, setSearchQuery] = useState('');
          const [currentLocation, setCurrentLocation] = useState({ 
            lat: 36.7213, 
            lng: -4.4214, 
            name: 'Málaga, Spain' 
          });
          const [filter, setFilter] = useState('restaurant');
          const [places, setPlaces] = useState([]);
          const [loading, setLoading] = useState(false);
          const [searchingLocation, setSearchingLocation] = useState(false);
          const [error, setError] = useState('');
          const [locationSuggestions, setLocationSuggestions] = useState([]);
          const [darkMode, setDarkMode] = useState(false);
          const [language, setLanguage] = useState('en');

          // Translations
          const translations = {
            en: {
              title: 'Anywhere',
              subtitle: 'Because "anywhere" isn\'t a plan.',
              location: 'Location',
              searchPlaceholder: 'Search for any city...',
              useMyLocation: 'Use My Location',
              gettingLocation: 'Getting...',
              current: 'Current:',
              whatLooking: 'What are you looking for?',
              restaurants: 'Restaurants',
              cafes: 'Cafes',
              bars: 'Bars',
              findPlaces: 'Find Places',
              searching: 'Searching...',
              yourOptions: 'Your Options',
              findingPlaces: 'Finding amazing places...',
              searchAnywhere: 'Search anywhere!',
              viewMap: 'View Map',
              getDirections: 'Get Directions',
              noPlaces: 'No {type} found nearby. Try a different location.',
              unableLocation: 'Unable to get your location. Please search manually.',
              geoNotSupported: 'Geolocation is not supported.',
              searchFailed: 'Failed to search. Please try again.'
            },
            es: {
              title: 'Cualquier Lugar',
              subtitle: 'Porque "cualquier lugar" no es un plan.',
              location: 'Ubicación',
              searchPlaceholder: 'Buscar cualquier ciudad...',
              useMyLocation: 'Usar Mi Ubicación',
              gettingLocation: 'Obteniendo...',
              current: 'Actual:',
              whatLooking: '¿Qué estás buscando?',
              restaurants: 'Restaurantes',
              cafes: 'Cafés',
              bars: 'Bares',
              findPlaces: 'Buscar Lugares',
              searching: 'Buscando...',
              yourOptions: 'Tus Opciones',
              findingPlaces: 'Encontrando lugares increíbles...',
              searchAnywhere: '¡Busca en cualquier lugar!',
              viewMap: 'Ver Mapa',
              getDirections: 'Obtener Direcciones',
              noPlaces: 'No se encontraron {type} cerca. Intenta con otra ubicación.',
              unableLocation: 'No se pudo obtener tu ubicación. Por favor busca manualmente.',
              geoNotSupported: 'La geolocalización no es compatible.',
              searchFailed: 'Error al buscar. Por favor intenta de nuevo.'
            },
            fil: {
              title: 'Kahit Saan',
              subtitle: 'Dahil ang hirap ng kahit saan.',
              location: 'Location',
              searchPlaceholder: 'Search for any city...',
              useMyLocation: 'Use My Location',
              gettingLocation: 'Getting...',
              current: 'Current:',
              whatLooking: 'Anong trip mo?',
              restaurants: 'Restaurants',
              cafes: 'Cafes',
              bars: 'Bars',
              findPlaces: 'Find Places',
              searching: 'Searching...',
              yourOptions: 'Your Options',
              findingPlaces: 'Finding amazing places...',
              searchAnywhere: 'Search anywhere!',
              viewMap: 'View Map',
              getDirections: 'Get Directions',
              noPlaces: 'No {type} found nearby. Try a different location.',
              unableLocation: 'Unable to get your location. Please search manually.',
              geoNotSupported: 'Geolocation is not supported.',
              searchFailed: 'Failed to search. Please try again.'
            }
          };

          const t = translations[language];

          // Color themes
          const theme = darkMode ? {
            bg: '#0f172a',
            bgSecondary: '#1e293b',
            bgCard: 'rgba(30, 41, 59, 0.6)',
            text: '#f8fafc',
            textSecondary: '#cbd5e1',
            textMuted: '#94a3b8',
            accent: '#ef4444',
            accentSecondary: '#f97316',
            border: 'rgba(248, 250, 252, 0.1)',
            inputBg: 'rgba(15, 23, 42, 0.6)',
            gradient: 'linear-gradient(135deg, #ef4444 0%, #f97316 100%)'
          } : {
            bg: '#ffffff',
            bgSecondary: '#fef2f2',
            bgCard: 'rgba(254, 242, 242, 0.8)',
            text: '#0f172a',
            textSecondary: '#475569',
            textMuted: '#64748b',
            accent: '#dc2626',
            accentSecondary: '#ea580c',
            border: 'rgba(220, 38, 38, 0.1)',
            inputBg: '#ffffff',
            gradient: 'linear-gradient(135deg, #dc2626 0%, #ea580c 100%)'
          };

          const searchLocation = async (query) => {
            if (!query || query.length < 3) {
              setLocationSuggestions([]);
              return;
            }

            try {
              const response = await fetch(
                `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&limit=5&addressdetails=1`,
                { headers: { 'User-Agent': 'FoodFinderApp' } }
              );
              const data = await response.json();
              setLocationSuggestions(data);
            } catch (err) {
              console.error('Location search error:', err);
            }
          };

          useEffect(() => {
            const timer = setTimeout(() => {
              if (searchQuery) {
                searchLocation(searchQuery);
              }
            }, 500);
            return () => clearTimeout(timer);
          }, [searchQuery]);

          const selectLocation = (location) => {
            setCurrentLocation({
              lat: parseFloat(location.lat),
              lng: parseFloat(location.lon),
              name: location.display_name
            });
            setSearchQuery('');
            setLocationSuggestions([]);
          };

          const useMyLocation = () => {
            if (navigator.geolocation) {
              setSearchingLocation(true);
              setError('');
              navigator.geolocation.getCurrentPosition(
                async (position) => {
                  const lat = position.coords.latitude;
                  const lng = position.coords.longitude;
                  
                  try {
                    const response = await fetch(
                      `https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json`,
                      { headers: { 'User-Agent': 'FoodFinderApp' } }
                    );
                    const data = await response.json();
                    setCurrentLocation({
                      lat,
                      lng,
                      name: data.display_name || `${lat.toFixed(4)}, ${lng.toFixed(4)}`
                    });
                  } catch (err) {
                    setCurrentLocation({
                      lat,
                      lng,
                      name: `${lat.toFixed(4)}, ${lng.toFixed(4)}`
                    });
                  }
                  setSearchingLocation(false);
                },
                (err) => {
                  setError(t.unableLocation);
                  setSearchingLocation(false);
                }
              );
            } else {
              setError(t.geoNotSupported);
            }
          };

          const searchPlaces = async () => {
            setLoading(true);
            setError('');
            setPlaces([]);

            const radius = 2500;
            const query = `
              [out:json][timeout:25];
              (
                node["amenity"="${filter}"](around:${radius},${currentLocation.lat},${currentLocation.lng});
                way["amenity"="${filter}"](around:${radius},${currentLocation.lat},${currentLocation.lng});
                relation["amenity"="${filter}"](around:${radius},${currentLocation.lat},${currentLocation.lng});
              );
              out body;
              >;
              out skel qt;
            `;

            try {
              const response = await fetch('https://overpass-api.de/api/interpreter', {
                method: 'POST',
                body: query
              });

              if (!response.ok) throw new Error('Failed to fetch');

              const data = await response.json();

              const processedPlaces = data.elements
                .filter(el => el.tags && el.tags.name)
                .map(el => ({
                  id: el.id,
                  name: el.tags.name,
                  lat: el.lat || el.center?.lat,
                  lng: el.lon || el.center?.lon,
                  cuisine: el.tags.cuisine || 'Not specified',
                  address: el.tags['addr:street'] || el.tags['addr:city'] || '',
                  phone: el.tags.phone || '',
                  website: el.tags.website || '',
                  type: filter
                }))
                .filter(place => place.lat && place.lng);

              if (processedPlaces.length > 0) {
                const shuffled = processedPlaces.sort(() => 0.5 - Math.random());
                setPlaces(shuffled.slice(0, 3));
              } else {
                const filterName = filter === 'restaurant' ? t.restaurants.toLowerCase() : 
                                  filter === 'cafe' ? t.cafes.toLowerCase() : t.bars.toLowerCase();
                setError(t.noPlaces.replace('{type}', filterName));
              }
            } catch (err) {
              setError(t.searchFailed);
            } finally {
              setLoading(false);
            }
          };

          return (
            <div style={{ 
              minHeight: '100vh', 
              background: darkMode ? 'linear-gradient(to bottom, #0f172a, #020617)' : 'linear-gradient(to bottom, #fef2f2, #fff7ed)',
              color: theme.text,
              transition: 'background 0.3s ease'
            }}>
              <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '40px 20px' }}>
                {/* Header */}
                <div style={{ textAlign: 'center', marginBottom: '60px', position: 'relative' }}>
                  {/* Desktop Controls - Top Right */}
                  <div style={{ 
                    position: 'absolute', 
                    top: 0, 
                    right: 0, 
                    display: 'flex', 
                    gap: '12px', 
                    alignItems: 'center'
                  }}
                  className="desktop-controls">
                    {/* Language Toggle */}
                    <div style={{ display: 'flex', gap: '6px' }}>
                      {['en', 'es', 'fil'].map(lang => (
                        <button
                          key={lang}
                          onClick={() => setLanguage(lang)}
                          style={{
                            padding: '8px 12px',
                            borderRadius: '8px',
                            border: 'none',
                            background: language === lang ? theme.gradient : 'transparent',
                            color: language === lang ? 'white' : theme.textMuted,
                            fontSize: '13px',
                            fontWeight: '600',
                            cursor: 'pointer',
                            transition: 'all 0.2s',
                            textTransform: 'uppercase',
                            letterSpacing: '0.5px'
                          }}
                          onMouseEnter={(e) => {
                            if (language !== lang) {
                              e.target.style.background = darkMode ? 'rgba(239, 68, 68, 0.1)' : 'rgba(220, 38, 38, 0.05)';
                            }
                          }}
                          onMouseLeave={(e) => {
                            if (language !== lang) {
                              e.target.style.background = 'transparent';
                            }
                          }}
                        >
                          {lang === 'fil' ? 'FIL' : lang}
                        </button>
                      ))}
                    </div>

                    {/* Dark Mode Toggle */}
                    <button
                      onClick={() => setDarkMode(!darkMode)}
                      style={{
                        width: '48px',
                        height: '48px',
                        borderRadius: '12px',
                        border: 'none',
                        background: 'transparent',
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: 'all 0.3s',
                        opacity: 0.8
                      }}
                      onMouseEnter={(e) => {
                        e.target.style.opacity = '1';
                        e.target.style.transform = 'scale(1.1)';
                      }}
                      onMouseLeave={(e) => {
                        e.target.style.opacity = '0.8';
                        e.target.style.transform = 'scale(1)';
                      }}
                    >
                      {darkMode ? (
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                          <circle cx="12" cy="12" r="5"/>
                          <line x1="12" y1="1" x2="12" y2="3"/>
                          <line x1="12" y1="21" x2="12" y2="23"/>
                          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                          <line x1="1" y1="12" x2="3" y2="12"/>
                          <line x1="21" y1="12" x2="23" y2="12"/>
                          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                      ) : (
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                      )}
                    </button>
                  </div>

                  <div style={{ 
                    display: 'inline-flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    width: '80px',
                    height: '80px',
                    background: theme.gradient,
                    borderRadius: '24px',
                    marginBottom: '24px',
                    boxShadow: darkMode ? '0 20px 40px rgba(239, 68, 68, 0.3)' : '0 20px 40px rgba(220, 38, 38, 0.25)'
                  }}>
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2">
                      <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 002-2V2M7 2v20M21 15V2v0a5 5 0 00-5 5v6c0 1.1.9 2 2 2h3zm0 0v7"/>
                    </svg>
                  </div>
                  
                  {/* Mobile Controls - Below Logo */}
                  <div style={{ 
                    display: 'none',
                    justifyContent: 'center',
                    gap: '8px',
                    marginBottom: '20px',
                    flexWrap: 'wrap'
                  }}
                  className="mobile-controls">
                    {/* Language Toggle */}
                    {['en', 'es', 'fil'].map(lang => (
                      <button
                        key={lang}
                        onClick={() => setLanguage(lang)}
                        style={{
                          padding: '10px 16px',
                          borderRadius: '10px',
                          border: 'none',
                          background: language === lang ? theme.gradient : darkMode ? 'rgba(248, 250, 252, 0.1)' : 'rgba(15, 23, 42, 0.05)',
                          color: language === lang ? 'white' : theme.textMuted,
                          fontSize: '14px',
                          fontWeight: '600',
                          cursor: 'pointer',
                          transition: 'all 0.2s',
                          textTransform: 'uppercase',
                          letterSpacing: '0.5px',
                          minWidth: '60px'
                        }}
                      >
                        {lang === 'fil' ? 'FIL' : lang}
                      </button>
                    ))}
                    {/* Dark Mode Toggle */}
                    <button
                      onClick={() => setDarkMode(!darkMode)}
                      style={{
                        width: '44px',
                        height: '44px',
                        borderRadius: '10px',
                        border: 'none',
                        background: darkMode ? 'rgba(248, 250, 252, 0.1)' : 'rgba(15, 23, 42, 0.05)',
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: 'all 0.2s'
                      }}
                    >
                      {darkMode ? (
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                          <circle cx="12" cy="12" r="5"/>
                          <line x1="12" y1="1" x2="12" y2="3"/>
                          <line x1="12" y1="21" x2="12" y2="23"/>
                          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                          <line x1="1" y1="12" x2="3" y2="12"/>
                          <line x1="21" y1="12" x2="23" y2="12"/>
                          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                      ) : (
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                      )}
                    </button>
                  </div>
                  
                  <div style={{ height: '16px' }} />
                  <h1 style={{ 
                    fontSize: '56px', 
                    fontWeight: '800',
                    marginBottom: '16px',
                    color: darkMode ? '#ef4444' : '#dc2626',
                    letterSpacing: '-0.02em'
                  }}>
                    {t.title}
                  </h1>
                  <p style={{ fontSize: '20px', color: theme.textSecondary, fontWeight: '500', letterSpacing: '-0.01em' }}>
                    {t.subtitle}
                  </p>
                </div>

                {/* Location Search */}
                <div style={{ 
                  background: theme.bgCard,
                  backdropFilter: 'blur(20px)',
                  borderRadius: '24px', 
                  padding: '32px', 
                  marginBottom: '24px',
                  border: `1px solid ${theme.border}`,
                  boxShadow: darkMode ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 8px 32px rgba(220, 38, 38, 0.08)'
                }}>
                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                      <circle cx="12" cy="10" r="3"/>
                    </svg>
                    <h3 style={{ fontSize: '18px', fontWeight: '600', color: theme.text, letterSpacing: '-0.01em' }}>
                      {t.location}
                    </h3>
                  </div>
                  
                  <div style={{ position: 'relative', marginBottom: '20px' }}>
                    <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                      <div style={{ position: 'relative', flex: 1, minWidth: '250px' }}>
                        <svg style={{ position: 'absolute', left: '16px', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none' }} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#64748b" strokeWidth="2">
                          <circle cx="11" cy="11" r="8"/>
                          <path d="M21 21l-4.35-4.35"/>
                        </svg>
                        <input
                          type="text"
                          value={searchQuery}
                          onChange={(e) => setSearchQuery(e.target.value)}
                          placeholder={t.searchPlaceholder}
                          style={{ 
                            width: '100%',
                            padding: '16px 16px 16px 48px', 
                            background: theme.inputBg,
                            border: `1px solid ${theme.border}`,
                            borderRadius: '16px', 
                            fontSize: '15px',
                            color: theme.text,
                            outline: 'none',
                            transition: 'all 0.2s',
                            boxSizing: 'border-box',
                            letterSpacing: '-0.01em'
                          }}
                          onFocus={(e) => {
                            e.target.style.borderColor = theme.accent;
                            e.target.style.boxShadow = `0 0 0 3px ${darkMode ? 'rgba(239, 68, 68, 0.1)' : 'rgba(220, 38, 38, 0.1)'}`;
                          }}
                          onBlur={(e) => {
                            e.target.style.borderColor = theme.border;
                            e.target.style.boxShadow = 'none';
                          }}
                        />
                      </div>
                      <button
                        onClick={useMyLocation}
                        disabled={searchingLocation}
                        style={{ 
                          padding: '16px 28px',
                          background: searchingLocation ? theme.border : darkMode ? 'rgba(239, 68, 68, 0.15)' : 'rgba(220, 38, 38, 0.1)',
                          border: `1px solid ${searchingLocation ? theme.border : darkMode ? 'rgba(239, 68, 68, 0.3)' : 'rgba(220, 38, 38, 0.3)'}`,
                          borderRadius: '16px',
                          color: theme.accent,
                          fontWeight: '600',
                          fontSize: '15px',
                          cursor: searchingLocation ? 'not-allowed' : 'pointer',
                          whiteSpace: 'nowrap',
                          transition: 'all 0.2s',
                          display: 'flex',
                          alignItems: 'center',
                          gap: '8px',
                          letterSpacing: '-0.01em'
                        }}
                        onMouseEnter={(e) => {
                          if (!searchingLocation) {
                            e.target.style.background = darkMode ? 'rgba(239, 68, 68, 0.25)' : 'rgba(220, 38, 38, 0.15)';
                            e.target.style.transform = 'translateY(-2px)';
                          }
                        }}
                        onMouseLeave={(e) => {
                          e.target.style.background = darkMode ? 'rgba(239, 68, 68, 0.15)' : 'rgba(220, 38, 38, 0.1)';
                          e.target.style.transform = 'translateY(0)';
                        }}
                      >
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                          <circle cx="12" cy="10" r="3"/>
                        </svg>
                        {searchingLocation ? t.gettingLocation : t.useMyLocation}
                      </button>
                    </div>

                    {/* Suggestions */}
                    {locationSuggestions.length > 0 && (
                      <div style={{ 
                        position: 'absolute', 
                        top: '100%', 
                        left: 0, 
                        right: 0, 
                        background: darkMode ? 'rgba(15, 23, 42, 0.95)' : 'rgba(255, 255, 255, 0.95)',
                        backdropFilter: 'blur(20px)',
                        border: `1px solid ${theme.border}`,
                        borderRadius: '16px', 
                        marginTop: '8px', 
                        maxHeight: '300px', 
                        overflowY: 'auto',
                        boxShadow: darkMode ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 8px 32px rgba(0, 0, 0, 0.1)',
                        zIndex: 10
                      }}>
                        {locationSuggestions.map((location, index) => (
                          <div
                            key={index}
                            onClick={() => selectLocation(location)}
                            style={{ 
                              padding: '16px 20px', 
                              cursor: 'pointer', 
                              borderBottom: index < locationSuggestions.length - 1 ? `1px solid ${theme.border}` : 'none',
                              transition: 'background 0.2s',
                              display: 'flex',
                              alignItems: 'center',
                              gap: '12px'
                            }}
                            onMouseEnter={(e) => e.currentTarget.style.background = darkMode ? 'rgba(239, 68, 68, 0.1)' : 'rgba(220, 38, 38, 0.05)'}
                            onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}
                          >
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                              <circle cx="12" cy="10" r="3"/>
                            </svg>
                            <div style={{ fontSize: '15px', color: theme.text, letterSpacing: '-0.01em' }}>
                              {location.display_name}
                            </div>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>

                  <div style={{ 
                    padding: '16px 20px',
                    background: darkMode ? 'rgba(239, 68, 68, 0.1)' : 'rgba(220, 38, 38, 0.05)',
                    border: `1px solid ${darkMode ? 'rgba(239, 68, 68, 0.2)' : 'rgba(220, 38, 38, 0.15)'}`,
                    borderRadius: '12px',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '12px'
                  }}>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke={theme.accent} strokeWidth="2">
                      <circle cx="12" cy="12" r="10"/>
                      <circle cx="12" cy="12" r="3"/>
                    </svg>
                    <div>
                      <span style={{ color: theme.textMuted, fontSize: '14px', letterSpacing: '-0.01em' }}>{t.current} </span>
                      <span style={{ color: theme.text, fontWeight: '600', fontSize: '14px', letterSpacing: '-0.01em' }}>{currentLocation.name}</span>
                    </div>
                  </div>
                </div>

                {/* Filters */}
                <div style={{ 
                  background: theme.bgCard,
                  backdropFilter: 'blur(20px)',
                  borderRadius: '24px', 
                  padding: '32px', 
                  marginBottom: '24px',
                  border: `1px solid ${theme.border}`,
                  boxShadow: darkMode ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 8px 32px rgba(220, 38, 38, 0.08)'
                }}>
                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={theme.accentSecondary} strokeWidth="2">
                      <circle cx="12" cy="12" r="3"/>
                      <path d="M12 1v6m0 6v6m-9-9h6m6 0h6"/>
                    </svg>
                    <h3 style={{ fontSize: '18px', fontWeight: '600', color: theme.text, letterSpacing: '-0.01em' }}>
                      {t.whatLooking}
                    </h3>
                  </div>
                  
                  <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap', marginBottom: '24px' }}>
                    {[
                      { value: 'restaurant', label: t.restaurants, icon: 'M3 2v7c0 1.1.9 2 2 2h4a2 2 0 002-2V2M7 2v20M21 15V2v0a5 5 0 00-5 5v6c0 1.1.9 2 2 2h3zm0 0v7' },
                      { value: 'cafe', label: t.cafes, icon: 'M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8zM6 1v3M10 1v3M14 1v3' },
                      { value: 'bar', label: t.bars, icon: 'M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z' }
                    ].map(type => (
                      <button
                        key={type.value}
                        onClick={() => setFilter(type.value)}
                        disabled={loading}
                        style={{
                          flex: 1,
                          minWidth: '160px',
                          padding: '18px 24px',
                          borderRadius: '16px',
                          border: filter === type.value ? 'none' : `1px solid ${theme.border}`,
                          background: filter === type.value ? theme.gradient : theme.inputBg,
                          color: filter === type.value ? 'white' : theme.textSecondary,
                          fontWeight: '600',
                          fontSize: '15px',
                          cursor: loading ? 'not-allowed' : 'pointer',
                          opacity: loading ? 0.5 : 1,
                          transition: 'all 0.3s',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          gap: '10px',
                          boxShadow: filter === type.value ? (darkMode ? '0 8px 24px rgba(239, 68, 68, 0.3)' : '0 8px 24px rgba(220, 38, 38, 0.25)') : 'none',
                          letterSpacing: '-0.01em'
                        }}
                        onMouseEnter={(e) => {
                          if (!loading && filter !== type.value) {
                            e.target.style.background = darkMode ? 'rgba(15, 23, 42, 0.8)' : 'rgba(254, 242, 242, 0.8)';
                            e.target.style.borderColor = theme.accent;
                            e.target.style.transform = 'translateY(-2px)';
                          }
                        }}
                        onMouseLeave={(e) => {
                          if (filter !== type.value) {
                            e.target.style.background = theme.inputBg;
                            e.target.style.borderColor = theme.border;
                            e.target.style.transform = 'translateY(0)';
                          }
                        }}
                      >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                          <path d={type.icon}/>
                        </svg>
                        {type.label}
                      </button>
                    ))}
                  </div>

                  <button
                    onClick={searchPlaces}
                    disabled={loading}
                    style={{
                      width: '100%',
                      padding: '18px 32px',
                      background: loading ? theme.border : theme.gradient,
                      border: 'none',
                      borderRadius: '16px',
                      color: 'white',
                      fontWeight: '700',
                      fontSize: '16px',
                      cursor: loading ? 'not-allowed' : 'pointer',
                      transition: 'all 0.3s',
                      boxShadow: loading ? 'none' : (darkMode ? '0 8px 24px rgba(239, 68, 68, 0.4)' : '0 8px 24px rgba(220, 38, 38, 0.3)'),
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      gap: '12px',
                      letterSpacing: '-0.01em'
                    }}
                    onMouseEnter={(e) => {
                      if (!loading) {
                        e.target.style.transform = 'translateY(-2px)';
                        e.target.style.boxShadow = darkMode ? '0 12px 32px rgba(239, 68, 68, 0.5)' : '0 12px 32px rgba(220, 38, 38, 0.4)';
                      }
                    }}
                    onMouseLeave={(e) => {
                      e.target.style.transform = 'translateY(0)';
                      e.target.style.boxShadow = darkMode ? '0 8px 24px rgba(239, 68, 68, 0.4)' : '0 8px 24px rgba(220, 38, 38, 0.3)';
                    }}
                  >
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 6v6l4 2"/>
                    </svg>
                    {loading ? t.searching : t.findPlaces}
                  </button>
                </div>

                {/* Results */}
                <div style={{ 
                  background: theme.bgCard,
                  backdropFilter: 'blur(20px)',
                  borderRadius: '24px', 
                  padding: '32px',
                  border: `1px solid ${theme.border}`,
                  boxShadow: darkMode ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 8px 32px rgba(220, 38, 38, 0.08)'
                }}>
                  <h2 style={{ fontSize: '28px', fontWeight: '700', marginBottom: '24px', color: theme.text, letterSpacing: '-0.02em' }}>
                    {t.yourOptions}
                  </h2>

                  {error && (
                    <div style={{ 
                      padding: '20px 24px',
                      background: darkMode ? 'rgba(239, 68, 68, 0.15)' : 'rgba(220, 38, 38, 0.1)',
                      border: `1px solid ${darkMode ? 'rgba(239, 68, 68, 0.3)' : 'rgba(220, 38, 38, 0.2)'}`,
                      borderRadius: '16px',
                      color: darkMode ? '#fca5a5' : '#dc2626',
                      marginBottom: '20px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '12px',
                      letterSpacing: '-0.01em'
                    }}>
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="12"/>
                        <line x1="12" y1="16" x2="12.01" y2="16"/>
                      </svg>
                      {error}
                    </div>
                  )}

                  {loading && (
                    <div style={{ textAlign: 'center', padding: '80px 20px' }}>
                      <div style={{ 
                        width: '60px',
                        height: '60px',
                        margin: '0 auto 24px',
                        border: `4px solid ${theme.border}`,
                        borderTopColor: theme.accent,
                        borderRadius: '50%',
                        animation: 'spin 1s linear infinite'
                      }}/>
                      <style>{`@keyframes spin { to { transform: rotate(360deg); } }`}</style>
                      <p style={{ fontSize: '18px', fontWeight: '600', color: theme.textSecondary, letterSpacing: '-0.01em' }}>{t.findingPlaces}</p>
                    </div>
                  )}

                  {!loading && places.length === 0 && !error && (
                    <div style={{ textAlign: 'center', padding: '80px 20px', color: theme.textMuted }}>
                      <svg style={{ margin: '0 auto 24px' }} width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
                      </svg>
                      <p style={{ fontSize: '18px', fontWeight: '500', letterSpacing: '-0.01em' }}>{t.searchAnywhere}</p>
                    </div>
                  )}

                  <div style={{ display: 'grid', gap: '20px' }}>
                    {places.map((place, index) => {
                      const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.name + ' ' + place.address)}&query=${place.lat},${place.lng}`;
                      const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${place.lat},${place.lng}`;

                      return (
                        <div
                          key={place.id}
                          style={{
                            background: darkMode ? 'rgba(30, 41, 59, 0.6)' : 'rgba(254, 242, 242, 0.6)',
                            borderRadius: '20px',
                            padding: '28px',
                            border: `1px solid ${theme.border}`,
                            transition: 'all 0.3s',
                            position: 'relative',
                            overflow: 'hidden'
                          }}
                          onMouseEnter={(e) => {
                            e.currentTarget.style.transform = 'translateY(-4px)';
                            e.currentTarget.style.boxShadow = darkMode ? '0 16px 48px rgba(239, 68, 68, 0.2)' : '0 16px 48px rgba(220, 38, 38, 0.15)';
                            e.currentTarget.style.borderColor = theme.accent;
                          }}
                          onMouseLeave={(e) => {
                            e.currentTarget.style.transform = 'translateY(0)';
                            e.currentTarget.style.boxShadow = 'none';
                            e.currentTarget.style.borderColor = theme.border;
                          }}
                        >
                          <div style={{ 
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            right: 0,
                            height: '3px',
                            background: theme.gradient
                          }}/>
                          
                          <div style={{ display: 'flex', gap: '20px', marginBottom: '20px' }}>
                            <div style={{
                              width: '56px',
                              height: '56px',
                              borderRadius: '16px',
                              background: theme.gradient,
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              fontWeight: '700',
                              fontSize: '24px',
                              color: 'white',
                              flexShrink: 0,
                              boxShadow: darkMode ? '0 8px 24px rgba(239, 68, 68, 0.4)' : '0 8px 24px rgba(220, 38, 38, 0.3)'
                            }}>
                              {index + 1}
                            </div>
                            
                            <div style={{ flex: 1, minWidth: 0 }}>
                              <h3 style={{ 
                                fontSize: '24px', 
                                fontWeight: '700', 
                                color: theme.text,
                                marginBottom: '12px',
                                overflow: 'hidden',
                                textOverflow: 'ellipsis',
                                whiteSpace: 'nowrap',
                                letterSpacing: '-0.01em'
                              }}>
                                {place.name}
                              </h3>
                              
                              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '12px', marginBottom: '16px' }}>
                                <span style={{
                                  padding: '6px 14px',
                                  background: darkMode ? 'rgba(239, 68, 68, 0.15)' : 'rgba(220, 38, 38, 0.1)',
                                  border: `1px solid ${darkMode ? 'rgba(239, 68, 68, 0.3)' : 'rgba(220, 38, 38, 0.2)'}`,
                                  borderRadius: '8px',
                                  fontSize: '13px',
                                  fontWeight: '600',
                                  color: theme.accent,
                                  textTransform: 'capitalize',
                                  letterSpacing: '-0.01em'
                                }}>
                                  {filter}
                                </span>
                                {place.cuisine && (
                                  <div style={{ 
                                    display: 'flex', 
                                    alignItems: 'center', 
                                    gap: '6px',
                                    padding: '6px 14px',
                                    background: darkMode ? 'rgba(234, 88, 12, 0.15)' : 'rgba(234, 88, 12, 0.1)',
                                    border: `1px solid ${darkMode ? 'rgba(234, 88, 12, 0.3)' : 'rgba(234, 88, 12, 0.2)'}`,
                                    borderRadius: '8px',
                                    color: theme.accentSecondary,
                                    fontSize: '13px',
                                    fontWeight: '500',
                                    letterSpacing: '-0.01em'
                                  }}>
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                      <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 002-2V2M7 2v20M21 15V2v0a5 5 0 00-5 5v6c0 1.1.9 2 2 2h3zm0 0v7"/>
                                    </svg>
                                    {place.cuisine}
                                  </div>
                                )}
                              </div>

                              {place.address && (
                                <div style={{ 
                                  display: 'flex', 
                                  alignItems: 'center', 
                                  gap: '8px',
                                  color: theme.textMuted,
                                  fontSize: '14px',
                                  marginBottom: '8px',
                                  letterSpacing: '-0.01em'
                                }}>
                                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                  </svg>
                                  {place.address}
                                </div>
                              )}

                              {place.phone && (
                                <div style={{ 
                                  display: 'flex', 
                                  alignItems: 'center', 
                                  gap: '8px',
                                  color: theme.textMuted,
                                  fontSize: '14px',
                                  letterSpacing: '-0.01em'
                                }}>
                                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
                                  </svg>
                                  {place.phone}
                                </div>
                              )}
                            </div>
                          </div>

                          <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                            <a
                              href={googleMapsUrl}
                              target="_blank"
                              rel="noopener noreferrer"
                              style={{
                                flex: 1,
                                minWidth: '140px',
                                padding: '14px 24px',
                                background: theme.gradient,
                                border: 'none',
                                borderRadius: '12px',
                                textAlign: 'center',
                                textDecoration: 'none',
                                color: 'white',
                                fontWeight: '600',
                                fontSize: '14px',
                                transition: 'all 0.2s',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                gap: '8px',
                                boxShadow: darkMode ? '0 4px 16px rgba(239, 68, 68, 0.3)' : '0 4px 16px rgba(220, 38, 38, 0.25)',
                                letterSpacing: '-0.01em'
                              }}
                              onMouseEnter={(e) => {
                                e.target.style.transform = 'translateY(-2px)';
                                e.target.style.boxShadow = darkMode ? '0 8px 24px rgba(239, 68, 68, 0.5)' : '0 8px 24px rgba(220, 38, 38, 0.4)';
                              }}
                              onMouseLeave={(e) => {
                                e.target.style.transform = 'translateY(0)';
                                e.target.style.boxShadow = darkMode ? '0 4px 16px rgba(239, 68, 68, 0.3)' : '0 4px 16px rgba(220, 38, 38, 0.25)';
                              }}
                            >
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                              </svg>
                              {t.viewMap}
                            </a>
                            <a
                              href={directionsUrl}
                              target="_blank"
                              rel="noopener noreferrer"
                              style={{
                                flex: 1,
                                minWidth: '140px',
                                padding: '14px 24px',
                                background: darkMode ? 'rgba(234, 88, 12, 0.15)' : 'rgba(234, 88, 12, 0.1)',
                                border: `1px solid ${darkMode ? 'rgba(234, 88, 12, 0.3)' : 'rgba(234, 88, 12, 0.2)'}`,
                                borderRadius: '12px',
                                textAlign: 'center',
                                textDecoration: 'none',
                                color: theme.accentSecondary,
                                fontWeight: '600',
                                fontSize: '14px',
                                transition: 'all 0.2s',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                gap: '8px',
                                letterSpacing: '-0.01em'
                              }}
                              onMouseEnter={(e) => {
                                e.target.style.background = darkMode ? 'rgba(234, 88, 12, 0.25)' : 'rgba(234, 88, 12, 0.15)';
                                e.target.style.transform = 'translateY(-2px)';
                              }}
                              onMouseLeave={(e) => {
                                e.target.style.background = darkMode ? 'rgba(234, 88, 12, 0.15)' : 'rgba(234, 88, 12, 0.1)';
                                e.target.style.transform = 'translateY(0)';
                              }}
                            >
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                <polygon points="3 11 22 2 13 21 11 13 3 11"/>
                              </svg>
                              {t.getDirections}
                            </a>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FoodFinderApp />);
    </script>
</body>
</html>
